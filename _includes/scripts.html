<script src="assets/js/main.min.js"></script>

<script>
  function showWechatQR() {
    // 创建模态框显示微信公众号二维码
    var modal = document.createElement("div");
    modal.style.cssText = `
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  `;

    var content = document.createElement("div");
    content.style.cssText = `
    background: white;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    max-width: 300px;
    cursor: default;
  `;

    content.innerHTML = `
     <h3 style="margin: 0 0 15px 0; color: #333;">WeChat Official Account</h3>
     <p style="margin: 0 0 15px 0; color: #666;">Scan QR code to follow</p>
     <div style="background: #f0f0f0; padding: 20px; border-radius: 5px; margin: 15px 0;">
       {% if site.author.wechat_qr_image %}
         <img src="{{ site.author.wechat_qr_image }}" alt="WeChat QR Code" style="max-width: 200px; height: auto;">
       {% else %}
         <p style="margin: 0; color: #999;">QR Code Image</p>
         <p style="margin: 5px 0 0 0; font-size: 12px; color: #999;">Please configure wechat_qr_image path in _config.yml</p>
       {% endif %}
     </div>
     <p style="margin: 10px 0 0 0; font-size: 14px; color: #333;">{{ site.author.wechat_mp }}</p>
     <button onclick="this.parentElement.parentElement.remove()" style="
       background: #007bff;
       color: white;
       border: none;
       padding: 8px 16px;
       border-radius: 5px;
       cursor: pointer;
       margin-top: 10px;
     ">Close</button>
   `;

    modal.appendChild(content);
    document.body.appendChild(modal);

    // 点击背景关闭模态框
    modal.addEventListener("click", function (e) {
      if (e.target === modal) {
        modal.remove();
      }
    });
  }
</script>

<style>
  /* 微信公众号图标样式 - 绿色 */
  .author__urls .social-icons li a[onclick*="showWechatQR"] i,
  .author__urls_sm a[onclick*="showWechatQR"] i {
    color: #07c160 !important; /* 微信绿色 */
  }

  /* 小红书图标样式 - 红色 */
  .author__urls .social-icons li a[href*="xiaohongshu.com"] i,
  .author__urls_sm a[href*="xiaohongshu.com"] i {
    color: #ff2442 !important; /* 小红书红色 */
  }

  /* 悬停效果 */
  .author__urls .social-icons li a[onclick*="showWechatQR"]:hover i,
  .author__urls_sm a[onclick*="showWechatQR"]:hover i {
    color: #06ad56 !important; /* 深绿色悬停效果 */
  }

  .author__urls .social-icons li a[href*="xiaohongshu.com"]:hover i,
  .author__urls_sm a[href*="xiaohongshu.com"]:hover i {
    color: #e61e3c !important; /* 深红色悬停效果 */
  }
</style>

{% include analytics.html %} {% include fetch_google_scholar_stats.html %}
